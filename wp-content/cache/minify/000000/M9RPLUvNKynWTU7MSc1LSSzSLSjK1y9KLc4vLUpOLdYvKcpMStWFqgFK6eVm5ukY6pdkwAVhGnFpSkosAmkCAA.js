Object.prototype.hasOwnProperty.call(window,"tribe_ev")&&(tribe_ev.geoloc={map:[],geocoder:[],geocodes:[],bounds:[],markers:[],refine:!1}),function(a,b,c,d,e,f,g,h){c.extend(tribe_ev.fn,{has_address:function(a,b){for(var c=0;c<b.length;c++)if(b[c].formatted_address==a)return!0;return!1},pre_ajax:function(a){if(c("#tribe-bar-geoloc").length){var b=c("#tribe-bar-geoloc").val();b.length?e.process_geocoding(b,function(d){if(f.geocodes=d,f.geocodes.length>1&&!e.has_address(b,f.geocodes))e.print_geo_options();else{var g=d[0].geometry.location.lat(),h=d[0].geometry.location.lng();g&&c("#tribe-bar-geoloc-lat").val(g),h&&c("#tribe-bar-geoloc-lng").val(h),a&&"function"==typeof a&&(c("#tribe_events_filter_item_geofence").length&&c("#tribe_events_filter_item_geofence").show(),a())}}):(c("#tribe-bar-geoloc-lat, #tribe-bar-geoloc-lng").val(""),a&&"function"==typeof a&&(c("#tribe_events_filter_item_geofence").length&&(c("#tribe_events_filter_item_geofence input").prop("checked",!1),c("#tribe_events_filter_item_geofence").hide().find("select").prop("selectedIndex",0)),a()))}else a&&"function"==typeof a&&a()},print_geo_options:function(){c("#tribe-geo-links").empty(),c("#tribe-geo-options").show();var a=[];f.refine=!0;for(var b=0;b<f.geocodes.length;b++){var d=f.geocodes[b].formatted_address;a[d]||(a[d]=!0,c("<a/>").text(d).attr("href","#").addClass("tribe-geo-option-link").data("index",b).appendTo("#tribe-geo-links"),h.map_view()&&e.map_add_marker(f.geocodes[b].geometry.location.lat(),f.geocodes[b].geometry.location.lng(),d))}f.refine=!1},pro_tooltips:function(){c("#tribe-events").on("mouseenter",'div[id*="tribe-events-event-"], div[id*="tribe-events-daynum-"]:has(a), div.event-is-recurring',function(){var a=0,b=c(this);if(c("body").hasClass("tribe-events-week")&&b.tribe_has_attr("data-tribejson"))if(b.parents(".tribe-grid-allday").length){var d=b.find(".tribe-events-tooltip");if(!d.length){var e=b.data("tribejson");b.find("div").append(tribe_tmpl("tribe_tmpl_tooltip",e)),d=b.find(".tribe-events-tooltip")}a=b.outerHeight()+6,d.css("bottom",a).show()}else{var d=b.find(".tribe-events-tooltip");if(!d.length){var e=b.data("tribejson");b.append(tribe_tmpl("tribe_tmpl_tooltip",e)),d=b.find(".tribe-events-tooltip")}var f,g,h,i=c(".tribe-week-grid-wrapper"),j=b.parent(),k=j.parent(),l=Math.ceil(k.width()),m=Math.ceil(b.width()),n=Math.ceil(d.outerWidth()),o=i.height(),p=i.scrollTop(),q=j.position(),r=b.position(),s=Math.ceil(r.top),t=p-s,u=j.hasClass("tribe-events-right"),v={};d.hasClass("hovered")||d.data("ow",n).addClass("hovered"),f=u?Math.ceil(q.left)-20:l-m-Math.ceil(q.left),n=n>=f?f:d.data("ow")>f?f:d.data("ow"),v=u?{right:m+20,bottom:"auto",width:n+"px"}:{left:m+20,bottom:"auto",width:n+"px"},d.css(v),g=d.height(),t>=0?t+=5:(h=t+o,t=g>h?h-g-8:5),d.css("top",t).show()}})},process_geocoding:function(a,b){var c={address:a,bounds:new google.maps.LatLngBounds(new google.maps.LatLng(TribeEventsPro.geocenter.min_lat,TribeEventsPro.geocenter.min_lng),new google.maps.LatLng(TribeEventsPro.geocenter.max_lat,TribeEventsPro.geocenter.max_lng))};f.geocoder.geocode(c,function(a,c){return c==google.maps.GeocoderStatus.OK?(b(a),a):c==google.maps.GeocoderStatus.ZERO_RESULTS?(GeoLoc.map_view&&spin_end(),c):c})},set_recurrence:function(a){a?(g.recurrence=!0,tribe_storage&&tribe_storage.setItem("tribeHideRecurrence","1")):(g.recurrence=!1,tribe_storage&&tribe_storage.setItem("tribeHideRecurrence","0"))}}),c.extend(tribe_ev.tests,{hide_recurrence:function(){return c("#tribeHideRecurrence:checked").length?!0:!1}}),c(b).ready(function(){c(".tribe-bar-geoloc-filter").length&&c(".tribe-bar-geoloc-filter").append('<div id="tribe-geo-options"><div id="tribe-geo-links"></div></div>');var i=c("#tribe-events"),j=c("#tribe-bar-geoloc"),k=c("#tribe-geo-options"),l=!1;e.pro_tooltips(),h.hide_recurrence()&&e.set_recurrence(!0),g.recurrence=h.hide_recurrence(),i.on("click","#tribeHideRecurrence",function(){g.popping=!1,g.do_string=!0,g.paged=1,l=c(this).is(":checked")?!0:!1,e.set_recurrence(l),c(d).trigger("tribe_ev_updatingRecurrence").trigger("tribe_ev_runAjax")}),c(d).on("tribe_ev_preCollectBarParams",function(){if(j.length){var a=j.val();a.length?"map"===g.view_target&&(g.url_params.action="tribe_geosearch"):c("#tribe-bar-geoloc-lat, #tribe-bar-geoloc-lng").val("")}tribe_storage&&"1"===tribe_storage.getItem("tribeHideRecurrence")&&"month"!==g.view_target&&"week"!==g.view_target&&(g.url_params.tribeHideRecurrence="1")}),h.map_view()||(k.length&&(i.on("click",".tribe-geo-option-link",function(a){a.preventDefault(),a.stopPropagation();var b=c(this);c(".tribe-geo-option-link").removeClass("tribe-option-loaded"),b.addClass("tribe-option-loaded"),j.val(b.text()),c("#tribe-bar-geoloc-lat").val(f.geocodes[b.data("index")].geometry.location.lat()),c("#tribe-bar-geoloc-lng").val(f.geocodes[b.data("index")].geometry.location.lng()),e.pre_ajax(function(){c(d).trigger("tribe_ev_runAjax"),k.hide()})}),c(b).on("click",function(){k.hide()})),e.snap("#tribe-geo-wrapper","#tribe-geo-wrapper","#tribe-events-footer .tribe-events-nav-previous a, #tribe-events-footer .tribe-events-nav-next a")),c("#wp-toolbar").on("click",".tribe-split-single a, .tribe-split-all a",function(){var b="";return b=c(this).parent().hasClass("tribe-split-all")?TribeEventsPro.recurrence.splitAllMessage:TribeEventsPro.recurrence.splitSingleMessage,a.confirm(b)?void 0:!1})})}(window,document,jQuery,tribe_ev.events,tribe_ev.fn,tribe_ev.geoloc,tribe_ev.state,tribe_ev.tests,tribe_debug);;var tribe_events_bar_action;!function(a,b,c,d,e,f,g,h){c(b).ready(function(){function i(a){if(!a.parents(".tribe-bar-disabled").length){var b=a.width();b>800?a.removeClass("tribe-bar-mini tribe-bar-collapse").addClass("tribe-bar-full"):a.removeClass("tribe-bar-full").addClass("tribe-bar-mini"),728>b?a.removeClass("tribe-bar-mini").addClass("tribe-bar-collapse"):a.removeClass("tribe-bar-collapse")}}function j(){if(tribe_events_bar_action="change_view","month"===g.view&&l.length){var b=l.val(),d=f.get_day();"0"!==g.datepicker_format?d.length?(b=tribeDateFormat(l.bootstrapDatepicker("getDate"),"tribeMonthQuery"),l.val(b+d)):l.val(""):7===b.length&&l.val(b+d)}g.url_params={},c(e).trigger("tribe_ev_preCollectBarParams"),c("#tribe-bar-form input, #tribe-bar-form select").each(function(){var a=c(this);a.val().length&&!a.hasClass("tribe-no-param")&&("month"!==g.view&&"0"!==g.datepicker_format&&a.is(l)?g.url_params[a.attr("name")]=tribeDateFormat(a.bootstrapDatepicker("getDate"),"tribeQuery"):a.is(":checkbox")?a.is(":checked")&&(g.url_params[a.attr("name")]=a.val()):g.url_params[a.attr("name")]=a.val())}),g.url_params=c.param(g.url_params),c(e).trigger("tribe_ev_postCollectBarParams"),g.url_params.length&&(g.cur_url+=h.starting_delim()+g.url_params),a.location.href=g.cur_url}var k=c("#tribe-bar-form"),l=c("#tribe-bar-date"),m=(c("#tribe-events"),c("#tribe-events-header")),n=0,o=c("select[name=tribe-bar-view]");if(m.length&&(n=m.data("startofweek")),i(k),k.resize(function(){i(k)}),!c(".tribe-events-week-grid").length&&"month"!==g.view){var p="yyyy-mm-dd";if("0"!==g.datepicker_format){p=d.datepicker_formats.main[g.datepicker_format];var q=f.get_url_param("tribe-bar-date");q?l.val(tribeDateFormat(q,g.datepicker_format)):"day"===g.view&&0!==l.val().length&&l.val(tribeDateFormat(l.val(),g.datepicker_format))}d.datepicker_opts={weekStart:n,format:p,autoclose:!0},l.bootstrapDatepicker(d.datepicker_opts)}l.blur(function(){""===l.val()&&c(".datepicker.dropdown-menu").is(":hidden")&&h.live_ajax()&&h.pushstate&&(g.date=d.cur_date,d.cur_url=d.base_url,c(e).trigger("tribe_ev_runAjax"))}),c(".tribe-bar-settings").length&&c("#tribe-events-bar").addClass("tribe-has-settings"),c("#tribe-events-bar .hasDatepicker").length&&c("#tribe-events-bar").addClass("tribe-has-datepicker"),c('input[name*="tribe-bar-"]').placeholder(),c('<ul class="tribe-bar-views-list" />').insertAfter(o);var r=c(".tribe-bar-views-list");o.find("option").each(function(a){var b=c(this);displaying=b.data("view");var d="tribe-bar-views-option-"+b.data("view");c("<li></li>",{"class":"tribe-bar-views-option "+d,"data-tribe-bar-order":a,"data-view":displaying}).html(['   <a href="#">','   <span class="tribe-icon-'+displaying+'">'+b.text()+"</span>","</a>"].join("")).appendTo(".tribe-bar-views-list")});var s=o.find(":selected").data("view"),t=r.find("li[data-view="+s+"]");t.prependTo(r).addClass("tribe-bar-active"),k.on("click","#tribe-bar-views",function(a){a.stopPropagation();var b=c(this);b.toggleClass("tribe-bar-views-open")}),k.on("click",".tribe-bar-views-option",function(a){a.preventDefault();var b=c(this);if(!b.is(".tribe-bar-active")){var d=b.data("view");g.cur_url=c("option[data-view="+d+"]").val(),g.view_target=c('select[name=tribe-bar-view] option[value="'+g.cur_url+'"]').data("view"),tribe_events_bar_action="change_view",j()}}),k.on("change",".tribe-bar-views-select",function(a){a.preventDefault();var b=c("option:selected",this),d=b.data("view");g.cur_url=c("option[data-view="+d+"]").val(),g.view_target=c('select[name=tribe-bar-view] option[value="'+g.cur_url+'"]').data("view"),tribe_events_bar_action="change_view",j()}),k.on("click","#tribe-bar-collapse-toggle",function(){c(this).toggleClass("tribe-bar-filters-open"),c(".tribe-bar-filters").slideToggle("fast")}),c('label[for="tribe-bar-date"], input[name="tribe-bar-date"]').wrapAll('<div id="tribe-bar-dates" />'),c("#tribe-bar-filters").before(c("#tribe-bar-dates")),c(e).on("tribe_ev_serializeBar",function(){c("form#tribe-bar-form input, form#tribe-bar-form select, #tribeHideRecurrence").each(function(){var a=c(this);a.is("#tribe-bar-date")&&(a.val().length?"month"===g.view?(g.params[a.attr("name")]=tribeDateFormat(g.mdate,"tribeMonthQuery"),g.url_params[a.attr("name")]=tribeDateFormat(g.mdate,"tribeMonthQuery")):(g.params[a.attr("name")]=tribeDateFormat(a.bootstrapDatepicker("getDate"),"tribeQuery"),g.url_params[a.attr("name")]=tribeDateFormat(a.bootstrapDatepicker("getDate"),"tribeQuery")):a.is(".placeholder")&&a.is(".bd-updated")?g.url_params[a.attr("name")]=a.attr("data-oldDate"):g.date=d.cur_date),!a.val().length||a.hasClass("tribe-no-param")||a.is("#tribe-bar-date")||(a.is(":checkbox")?a.is(":checked")&&(g.params[a.attr("name")]=a.val(),"map"!==g.view&&(g.url_params[a.attr("name")]=a.val()),("month"===g.view||"day"===g.view||"week"===g.view||g.recurrence)&&g.pushcount++):(g.params[a.attr("name")]=a.val(),"map"!==g.view&&(g.url_params[a.attr("name")]=a.val()),("month"===g.view||"day"===g.view||"week"===g.view)&&g.pushcount++))})});var u=c('#tribe-events-bar [class^="tribe-bar-button-"]'),v=u.next(".tribe-bar-drop-content");u.click(function(){var a=c(this);return a.toggleClass("open"),a.next(".tribe-bar-drop-content").toggle(),!1}),c(b).click(function(){c("#tribe-bar-views").removeClass("tribe-bar-views-open"),u.hasClass("open")&&(u.removeClass("open"),v.hide())}),v.click(function(a){a.stopPropagation()})})}(window,document,jQuery,tribe_ev.data,tribe_ev.events,tribe_ev.fn,tribe_ev.state,tribe_ev.tests,tribe_debug);